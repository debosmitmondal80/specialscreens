<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Neon Heart Name</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');

        /* 1. LOCK SCREEN & BASICS */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #050505;
            font-family: 'Pacifico', cursive;
            position: fixed;
            top: 0;
            left: 0;
            overscroll-behavior: none;
            touch-action: none; 
        }

        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100dvh;
            overflow: hidden;
            z-index: 1;
        }

        /* 2. CENTER WRAPPER (Holds Name + Heart) */
        .center-wrapper {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Keeps it perfectly centered */
            z-index: 20;
            text-align: center;
            width: 300px; /* Fixed width for the heart stage */
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: none;
        }

        /* 3. THE SVG HEART */
        .neon-heart-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: visible;
            z-index: 10; /* Behind the text */
        }

        .heart-path {
            fill: none;
            stroke: #ff0054;
            stroke-width: 3;
            stroke-linecap: round;
            
            /* NEON GLOW FOR SVG LINE */
            filter: drop-shadow(0 0 5px #ff0054) drop-shadow(0 0 10px #ff0054) drop-shadow(0 0 20px #ff0054);
            
            /* Logic for the "Drawing" animation */
            stroke-dasharray: 1000; /* Length of the line */
            stroke-dashoffset: 1000; /* Hidden initially */
            opacity: 0.5;
        }

        /* Animation Class to trigger drawing */
        .draw-heart {
            animation: drawLine 2.5s ease-out forwards;
        }

        @keyframes drawLine {
            to { stroke-dashoffset: 0; opacity: 1; }
        }

        /* 4. THE NAME TEXT */
        .name-text {
            position: relative;
            z-index: 20; /* In front of heart */
            color: #444; /* Start off */
            font-size: 3.5rem;
            white-space: nowrap;
            margin-top: -20px; /* Slight adjustment to fit in heart center */
        }

        .neon-char {
            display: inline-block;
            opacity: 0.3;
        }

        .flicker-on {
            animation: turnOn 1.5s linear forwards;
        }

        /* 5. JOINT HEARTBEAT (Applied to Wrapper) */
        .beating {
            animation: heartbeat 1.2s infinite cubic-bezier(0.215, 0.61, 0.355, 1) alternate;
        }

        @keyframes heartbeat {
            from { transform: translate(-50%, -50%) scale(1); }
            to { transform: translate(-50%, -50%) scale(1.15); }
        }

        /* Name Power-on Sequence */
        @keyframes turnOn {
            0% { opacity: 0.1; color: #444; text-shadow: none; }
            10% { opacity: 1; color: #fff; text-shadow: 0 0 10px #ff0054, 0 0 20px #ff0054; }
            30% { opacity: 0.5; color: #fff; text-shadow: 0 0 5px #ff0054; }
            50% { opacity: 0.1; color: #444; text-shadow: none; }
            100% { opacity: 1; color: #fff; text-shadow: 0 0 10px #ff0054, 0 0 30px #ff0054, 0 0 60px #ff0054; }
        }

        /* Mobile Adjustments */
        @media (max-width: 600px) {
            .center-wrapper { width: 280px; height: 280px; }
            .name-text { font-size: 2.8rem; }
        }

        /* Background Rain & Effects */
        .neon-text {
            position: absolute;
            top: -50px;
            color: #fff;
            white-space: nowrap;
            z-index: 10;
            pointer-events: none;
            font-weight: bold;
            will-change: transform;
        }
        .trail {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            pointer-events: none;
            z-index: 50;
            box-shadow: 0 0 15px #fff, 0 0 25px #ff0054;
            transform: translate(-50%, -50%);
        }
        .burst-particle {
            position: absolute;
            pointer-events: none;
            z-index: 60;
            font-size: 24px;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>

    <div id="canvas-container">
        <div class="center-wrapper" id="main-wrapper">
            
            <svg class="neon-heart-svg" viewBox="0 0 300 300">
                <path id="heart-path" class="heart-path" 
                      d="M150 90 C 75 0, 0 50, 20 120 C 40 190, 150 270, 150 270 C 150 270, 260 190, 280 120 C 300 50, 225 0, 150 90" />
            </svg>

            <div class="name-text" id="name-box"></div>
        </div>
    </div>

    <script>
        /* CONFIGURATION */
        const nameText = "Name"; 
        const flickerSpeed = 1000; // Speed of name lighting up

        /* ELEMENTS */
        const nameBox = document.getElementById('name-box');
        const heartPath = document.getElementById('heart-path');
        const wrapper = document.getElementById('main-wrapper');

        /* ANIMATION SEQUENCE */
        function startShow() {
            // 1. Prepare Name
            for (let letter of nameText) {
                const span = document.createElement('span');
                span.innerText = letter;
                span.classList.add('neon-char');
                nameBox.appendChild(span);
            }

            // 2. Start Flickering Letters
            flickerLetter(0);
        }

        function flickerLetter(index) {
            const letters = document.querySelectorAll('.neon-char');
            if (index < letters.length) {
                letters[index].classList.add('flicker-on');
                
                // Recurse to next letter
                setTimeout(() => {
                    flickerLetter(index + 1);
                }, flickerSpeed);
            } else {
                // 3. Name Done? DRAW THE HEART
                setTimeout(() => {
                    heartPath.classList.add('draw-heart');
                    
                    // 4. Heart Drawn? START HEARTBEAT
                    setTimeout(() => {
                        wrapper.classList.add('beating');
                    }, 2500); // Matches the animation duration of drawLine

                }, 500);
            }
        }

        // Start after 1 second
        setTimeout(startShow, 1000);


        /* BACKGROUND & INTERACTION (Standard) */
        const container = document.getElementById('canvas-container');
        const messages = ["I Love You", "Amar Sona", "Forever", "My Everything", "Be Mine", "Jaana", "â¤ï¸", "ðŸ¥°", "Sudhu Tumi","Tomake Chai","My Love"];
        const neonColors = ["#ff0054", "#00f2ea", "#bc13fe", "#39ff14", "#ffea00"];

        function createNeonDrop() {
            const drop = document.createElement('div');
            drop.innerText = messages[Math.floor(Math.random() * messages.length)];
            drop.classList.add('neon-text');
            const color = neonColors[Math.floor(Math.random() * neonColors.length)];
            drop.style.textShadow = `0 0 5px ${color}, 0 0 15px ${color}`;
            drop.style.left = (Math.random() * 80 + 5) + '%'; 
            drop.style.fontSize = (Math.random() * 1.5 + 1.2) + 'rem';
            container.appendChild(drop);
            const duration = Math.random() * 3000 + 3000;
            drop.animate([
                { transform: 'translateY(-10vh)', opacity: 0 },
                { opacity: 1, offset: 0.1 },
                { transform: 'translateY(110vh)', opacity: 0.5 }
            ], { duration: duration, easing: 'linear' }).onfinish = () => drop.remove();
        }
        setInterval(createNeonDrop, 250);

        function handleInput(e) {
            e.preventDefault();
            if(e.touches) {
                for (let i = 0; i < e.touches.length; i++) {
                    createTrail(e.touches[i].clientX, e.touches[i].clientY);
                }
            } else {
                createTrail(e.clientX, e.clientY);
            }
        }

        function handleTap(e) {
            e.preventDefault();
            let x, y;
            if(e.changedTouches) {
                x = e.changedTouches[0].clientX;
                y = e.changedTouches[0].clientY;
            } else {
                x = e.clientX;
                y = e.clientY;
            }
            createBurst(x, y);
        }

        let isThrottled = false;
        function createTrail(x, y) {
            if (isThrottled) return;
            isThrottled = true;
            setTimeout(() => isThrottled = false, 30);
            const trail = document.createElement('div');
            trail.classList.add('trail');
            trail.style.left = x + 'px';
            trail.style.top = y + 'px';
            const color = neonColors[Math.floor(Math.random() * neonColors.length)];
            trail.style.backgroundColor = color;
            trail.style.boxShadow = `0 0 10px ${color}, 0 0 20px ${color}`;
            container.appendChild(trail);
            trail.animate([{ transform: 'translate(-50%, -50%) scale(1)', opacity: 0.8 }, { transform: 'translate(-50%, -50%) scale(0)', opacity: 0 }], { duration: 600, easing: 'ease-out' }).onfinish = () => trail.remove();
        }

        function createBurst(x, y) {
            for (let i = 0; i < 10; i++) {
                const p = document.createElement('div');
                p.classList.add('burst-particle');
                p.innerText = 'â¤ï¸';
                p.style.left = x + 'px';
                p.style.top = y + 'px';
                container.appendChild(p);
                const destX = (Math.random() - 0.5) * 150;
                const destY = (Math.random() - 0.5) * 150;
                const rotate = Math.random() * 360;
                p.animate([{ transform: `translate(-50%, -50%) rotate(0deg)`, opacity: 1 }, { transform: `translate(calc(-50% + ${destX}px), calc(-50% + ${destY}px)) rotate(${rotate}deg)`, opacity: 0 }], { duration: 800 + Math.random() * 300 }).onfinish = () => p.remove();
            }
        }

        document.addEventListener('touchmove', handleInput, { passive: false });
        document.addEventListener('touchstart', handleTap, { passive: false });
        document.addEventListener('mousemove', handleInput);
        document.addEventListener('click', handleTap);
    </script>
</body>
</html>